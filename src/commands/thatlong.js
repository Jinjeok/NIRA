import { SlashCommandBuilder } from '@discordjs/builders';

// 오브젝트-키 형식으로 목록 관리
// 키: 옵션 선택 시 사용될 값 및 사용자에게 보여질 이름
// 값: 실제 출력될 내용 (사용자가 제공한 "그 긴거"의 각 항목)
const longItems = {
  "크산테": "이게 크산테다 체력 4700 방어력 329 마저201인 챔피언👤이 저지불가🚫, 실드🛡, 벽🧱 넘기는 거 있고요. 에어본🌪 있고, 심지어 쿨타임은 1️⃣초밖에 안되고 마나🧙‍♂️는 1️⃣5️⃣ 들고 w는 심지어 변신💫하면 쿨 초기화에다가 패시브는 고정피해🗡가 들어가며 그 다음에 방마저🥋 올리면📈 올릴수록📈 스킬 가속⏰이 생기고! q에 스킬가속⏰이 생기고 스킬 속도🚀가 빨라지고📈 그 다음에 공격력🗡 계수가 있어가지고 W가 그 이익- 으아아아악😱😱",
  "1557": "근데 드레이븐🎅이 문제에요 이 와중에 진짜 예 타워🏦 안쪽 그래도 잭키러브🎅가 문제에요 케넨🌩없을때 그래도 이쪽도⏩⏩ 달려들어야되는거아닌가요 재키러브🎅가문제에요 예 스턴걸고 쫓아가자 재키러브🎅가 아아악😱😱 잭키러브🎅🎅가 문제에요 돈도왕창떨어졌고요💵💵💵💵 재키러브 어떡하나요😱😱😱😱 저 재키러브를 또 더블킬 케넨🌩이없어요🙅🙅 재키러브가 퍽퍽🤜🤜 케넨🌩🌩이 없어요 기다려라 근데 이겼어요 좀 그만죽여 나도좀 죽이자😈😈 더샤이 오고있습니다 트리플킬 그리고 밀면되나요 왜이렇게빨리끝내나요 아이지❓❓😰😰😰😢😢😢이거 16분대 16분되기전에 이건아이지 이건 역대급인데요 와 아니 16분이 안됩니다 와 15분 50초 아이지 야 빨리 끝내자 기록🌟🌟이라도 세우자 끝났습니다 15분 55초 56초 쥐쥐🔥🔥",
  "반디": "지금당장떠나면아무도다치지않는다그러지않으면너희는모두죽어탐정놀이도이젠끝이다오지말아야할곳에발을들였군현실로돌아가면잊지말고전해라스텔라론헌터가너희들의마지막을배웅했다는것을기어투점화소각기폭소탕시작액션원집행섬멸시작액션투집행목표고정즉시처단프로토콜통과초토화작전집행깨어났군한참이나기다렸다우린전에만난적이있지스텔라론헌터샘이다일찍이네앞에나타나진실을전하고싶었어하지만예상보다방해물이많더군열한차례시도했지만전부실패로끝났지그러는사이에나도모르게이세계와긴밀히연결되어각본의구속에서벗어날수없게됐다엘리오의말대로우리는이꿈의땅에서잊을수없는수확을얻게될테지나에겐그와카프카처럼사람의마음을꿰뚫어보는통찰력도은랑이나블레이드처럼특출난능력도없다내가잘하는것들대부분은불쌍히여길필요없는악당에게만적용되지그러니내가사용할수있는수단도단하나뿐이다네게보여주기위한거야내전부를",
  "호날두": "[Web발신] 너는나를존중해야한다나는발롱도르5개와수많은개인트로피를들어올렸으며2016유로에서포르투갈을이끌고우승을차지했고동시에A매치역대최다득점자이다또한챔스역대최다득점자이자5번이나우승을차지한레알마드리드의상징이다또한36세의나이에도프리미어리그에서18골을기록하고챔스에서5경기연속골을기록하며내가세계최고임을증명해냈다은혜를모르는맨유보드진과팬들은내가맨유의골칫덩이라며쫒아냈지만내가세계최고이고내가팀보다위대하다는사실은바뀌지않는다내가사우디에간이유는메시에대한자격지심이아니라유럽에서이룰수있는모든것을이루었기에아시아를정복하기위해간것이지단지돈을위해서간것이아니다",
  "한만두": `국노야..... 한만두라함은 미국 동부시간 기준 1999년 4월 23일(한국시간으로 4월 24일) 세인트루이스와 LA다저스의 경기
3회초
1번타자 대런 브랙 우전 안타
2번타자 에드가 렌테리아 몸에 맞는 공
3번타자 마크 맥과이어* 우전 안타
4번타자 페르난도 타티스 좌월 만루 홈런
5번타자 J.D 드류 1루 땅볼 아웃
6번타자 일라이 머레로 좌월 솔로 홈런
7번타자 플라시도 폴랑코 볼넷
8번타자 조 맥유잉 볼넷
9번타자 호세 히메네즈 번트
1번타자 대런 브랙 1루수 송구 에러로 출루 플라시도 폴랑코 홈인
2번타자 에드가 렌테리아 우익수 앞 안타 조 맥유잉 홈인
3번타자 마크 맥과이어* 우익수 뜬공 아웃
4번타자 페르난도 타티스 만루 홈런
투수 교체 박찬호->카를로스 페레즈 2.2이닝 2삼진 8피안타 3볼넷 11실점 6자책점을 기록함을 말하는것이냐..`
  // 만약 각 항목의 내용이 키와 다르다면, 아래와 같이 수정 가능합니다:
  // "크산테": "크산테는 리그 오브 레전드의 챔피언입니다...",
  // "1557": "1557은 T1과 관련된 유명한 숫자입니다...",
};

export default {
  data: new SlashCommandBuilder()
    .setName('그긴거')
    .setDescription('그 긴거 목록에서 특정 항목을 선택하여 보거나 전체 목록을 봅니다.')
    .addStringOption(option =>
      option.setName('항목')
        .setDescription('보고 싶은 항목을 선택하세요.')
        .setRequired(true) 
        .addChoices(
          // longItems 객체의 키를 사용하여 선택지를 동적으로 생성
          ...Object.keys(longItems).map(key => ({ name: key, value: key }))
        )
    ),

  async execute(interaction) {
    const selectedKey = interaction.options.getString('항목');

    if (selectedKey) {
      // 사용자가 특정 항목을 선택한 경우
      const selectedValue = longItems[selectedKey];
      if (selectedValue) {
        await interaction.reply(selectedValue); // 선택된 항목의 "값" (내용)만 출력
      } else {
        // 이 경우는 addChoices에 의해 발생하기 어려우나, 방어적으로 처리
        await interaction.reply({ content: '선택한 항목을 찾을 수 없습니다.', ephemeral: true });
      }
    } else {
      // 사용자가 항목을 선택하지 않은 경우, 전체 목록 출력
      let output = "그 긴거 전체 목록:\n";
      Object.values(longItems).forEach((value, index) => { // 값만 순회하여 번호 매기기
        output += `${index + 1}. ${value}\n`;
      });
      // 메시지 길이 제한 고려 (Discord는 2000자)
      if (output.length > 2000) {
        output = output.substring(0, 1990) + "\n... (너무 길어서 잘림)";
      }
      await interaction.reply(output);
    }
  },
};